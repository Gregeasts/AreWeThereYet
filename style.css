:root{
  --bg1:#e8dfc9;
  --bg2:#d9cfb4;
  --ink:#2e2a23;
  --good:#2e7d32;
  --bad:#a4161a;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto;
  background: linear-gradient(180deg, var(--bg1), var(--bg2));
  color:var(--ink);
}
.fog {
  background: rgba(255,255,255,0.2);
  animation: drift 60s linear infinite;
  pointer-events: none;
}

.f1 { animation-delay: 0s; }
.f2 { animation-delay: 20s; }
.f3 { animation-delay: 40s; }

@keyframes drift {
  0% { transform: translateX(-50%); opacity:0.2; }
  50% { transform: translateX(50%); opacity:0.3; }
  100% { transform: translateX(-50%); opacity:0.2; }
}

/* Overlay */
#startOverlay{
  position:fixed;
  inset:0;
  background:rgba(232,223,201,0.9);
  z-index:10;
  display:flex;
  align-items:center;
  justify-content:center;
}
.overlay-content{text-align:center;max-width:500px}
.title{font-size:32px;margin-bottom:20px;font-family:"Cinzel",serif}
.big-btn{
  padding:20px 40px;
  font-size:20px;
  font-family:"Cinzel",serif;
  cursor:pointer;
  border:3px solid #a78a63;
  border-radius:12px;
  background:#f6efe0;
  box-shadow:0 6px 0 #a78a63;
}
.big-btn:active{transform:translateY(3px);box-shadow:0 2px 0 #a78a63}
.howto{
  margin-top:30px;
  padding:15px;
  background:rgba(255,255,255,.6);
  border:2px solid #c2b79e;
  border-radius:10px;
  text-align:left;
}
.fog { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; opacity:0.3; }

/* Frame */
.frame{display:grid;grid-template-columns:320px 1fr;gap:16px;height:100%;padding:16px}
.panel{
  background:rgba(255,255,255,.65);
  border:2px solid #c2b79e;
  border-radius:16px;
  padding:16px;
  display:flex;flex-direction:column;gap:12px;
}
.banner{font-weight:700;font-size:18px}
.btn{cursor:pointer;padding:10px 14px;border-radius:12px;border:2px solid #a78a63;background:#f6efe0;font-weight:600;box-shadow:0 3px 0 #a78a63}
.btn:active{box-shadow:0 1px 0 #a78a63;transform:translateY(2px)}
.small{padding:6px 10px;font-size:12px}
.legend{font-size:13px}
.dot{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:6px;vertical-align:middle}
.footer{margin-top:auto;font-size:12px;opacity:.7}

.mapwrap{position:relative;overflow:hidden;border:2px solid #a78a63;border-radius:16px}
svg#map{width:100%;height:100%;display:block;cursor:grab}
svg#map:active{cursor:grabbing}

/* Toast */
.toast{position:absolute;top:12px;right:12px;background:rgba(0,0,0,.65);color:#fff;padding:10px 12px;border-radius:10px;font-size:13px;display:none}

/* Responsive: for small screens, stack panel above map */
@media (max-width: 768px) {
  .frame {
    grid-template-columns: 1fr;  /* single column */
    grid-template-rows: auto 1fr; /* panel first, map second */
    height: auto;
  }

  .panel {
    width: 100%;       /* full width */
    margin-bottom: 16px;
    gap: 4px;
  }

  .mapwrap {
    height: 60vh;      /* optional: give map a reasonable height */
  }
}